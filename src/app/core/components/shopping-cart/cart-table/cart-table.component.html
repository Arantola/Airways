<div class="table-wrap">
  <table mat-table [dataSource]="dataSource" matSort (matSortChange)="announceSortChange($event)"
      class="mat-elevation-z8 cart-table"
      [class.cart-table_account]="!showControls"
  >
    <ng-container matColumnDef="checkbox">
      <th mat-header-cell *matHeaderCellDef>
      </th>
      <td mat-cell *matCellDef="let element">
        <mat-checkbox class="example-margin" color="primary"></mat-checkbox>
      </td>
    </ng-container>

    <ng-container matColumnDef="no">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by no">
        No.
      </th>
      <td class="cart-table__td cart-table__td_no" mat-cell *matCellDef="let element">
        <div class="cart-table__td-content">
          {{element.no}}
        </div>
      </td>
    </ng-container>

    <ng-container matColumnDef="flight">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by flight">
        Flight
      </th>
      <td class="cart-table__td" mat-cell *matCellDef="let element">
        <div class="cart-table__td-content">
            {{element.flight}}
        </div>
      </td>
    </ng-container>

    <ng-container matColumnDef="typeTrip">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by typeTrip">
        Type trip
      </th>
      <td class="cart-table__td" mat-cell *matCellDef="let element">
        <div class="cart-table__td-content">
          {{element.typeTrip}}
        </div>
      </td>
    </ng-container>

    <ng-container matColumnDef="dataTime">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by dataTime">
        Data & time
      </th>
      <td class="cart-table__td" mat-cell *matCellDef="let element">
        <div class="cart-table__td-content">
          <ul>
            <li *ngIf="element.dataTime[0]">{{element.dataTime[0]}}</li>
            <li *ngIf="element.dataTime[1]">{{element.dataTime[1]}}</li>
          </ul>
        </div>
      </td>
    </ng-container>

    <ng-container matColumnDef="passengers">
      <th mat-header-cell *matHeaderCellDef>
        Passengers
      </th>
      <td class="cart-table__td" mat-cell *matCellDef="let element">
        <div class="cart-table__td-content" >
          <ul>
            <li *ngIf="element.passengers.adults">{{ element.passengers.adults }} x Adults</li>
            <li *ngIf="element.passengers.children">{{ element.passengers.children }} x Children</li>
            <li *ngIf="element.passengers.infants">{{ element.passengers.infants }} x Infants</li>
          </ul>
        </div>
      </td>
    </ng-container>

    <ng-container matColumnDef="price">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by price">
        Price
      </th>
      <td class="cart-table__td cart-table__td_price" mat-cell *matCellDef="let element">
        <div class="cart-table__td-content">
          {{ currency | currencySymbol }}{{ element.price }}
        </div>
      </td>
    </ng-container>

    <ng-container matColumnDef="menu">
      <th mat-header-cell *matHeaderCellDef>
      </th>
      <td mat-cell *matCellDef="let element"> 
        <div class="cart-table__menu">
          <button class="cart-table__button" [matMenuTriggerFor]="menu" mat-icon-button>
            <mat-icon>more_vert</mat-icon>
          </button>
          <mat-menu #menu="matMenu">
            <button mat-menu-item>Delete</button>
            <button mat-menu-item (click)="editTicket()">Edit</button>
          </mat-menu>
        </div>
      </td>
    </ng-container>

    <ng-container matColumnDef="link">
      <th mat-header-cell *matHeaderCellDef>
      </th>
      <td class="cart-table__td cart-table__td_link" mat-cell *matCellDef="let element">
        <a routerLink="/booking/summary">summary</a>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr class="cart-table__tr" mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>

